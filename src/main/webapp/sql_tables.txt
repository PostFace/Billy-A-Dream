sql 湲곕낯 �꽕�젙

愿�由ъ옄 怨꾩젙 �젒�냽 
�궗�슜�옄紐� : sys
鍮꾨�踰덊샇 : oracle as sysdba

alter session set "_oracle_script"=true;

create user billy identified by dream account unlock;

grant connect, resource to billy;

grant create table, create sequence to billy;

alter user billy default tablespace users quota unlimited on users;

--��遺꾨쪟 移댄뀒怨좊━

create table lcategory(
no number primary key, 
name varchar2(40),
order number
);

create sequence lcate_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;

insert into lcategory values(lcate.nextval,"紐⑤컮�씪",1);

insert into lcategory values(lcate.nextval,"PC/�끂�듃遺�",2);

insert into lcategory values(lcate.nextval,"移대찓�씪/DSLR",3);

--�냼遺꾨쪟 移댄뀒怨좊━

create table scategory(
no number primary key, 
name varchar2(40),
lcate_no number,
order number,
search_count number 
);

create sequence scate_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;

insert into scategory(no,name,lcate_no,order,search_count) values(scate_seq.nextval,"�뒪留덊듃�룿",1,1,0);

insert into scategory(no,name,lcate_no,order,search_count) values(scate_seq.nextval,"�뒪留덊듃�썙移�",1,2,0);

insert into scategory(no,name,lcate_no,order,search_count) values(scate_seq.nextval,"紐⑤땲�꽣",2,1,0);

insert into scategory(no,name,lcate_no,order,search_count) values(scate_seq.nextval,"�끂�듃遺�",2,2,0);

insert into scategory(no,name,lcate_no,order,search_count) values(scate_seq.nextval,"�븘由꾩뭅硫붾씪",3,1,0);


-- 회원 테이블
drop table member cascade constraints;
create table member(
mno number primary key,
id varchar2(20),
pw varchar2(100),
name varchar2(20),
add1_sido varchar2(20),
add2_sigungu varchar2(20),
add3_eubmyeon varchar2(20),
add4_donglee varchar2(20),
email varchar2(30),
hp number,
isblacklist char(1) default 0,
rating number default 0,
wishpnum varchar2(200)
);
col mno for 99;
col id for a10;
col pw for a5;
col name for a15;
col add1_sido for a10;
col add2_sigungu for a10;
col add3_eubmyeon for a10;
col add4_donglee for a10;
col email for a10;
col hp for 9999999999;
col isblacklist for 9;
col rating for 9;

drop sequence member_seq;
create sequence member_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;

insert into member(mno,id,pw,name,address,email,hp) values(member_seq.nextval,'admin','admin','관리자','인천시 계양구','admin@naver.com','01012345678');
insert into member(mno,id,pw,name,address,email,hp) values(member_seq.nextval,'123','123','손님','인천시 계양구','123@naver.com','01012340000');
insert into member(mno,id,pw,name,address,email,hp) values(member_seq.nextval,'id','1234','박찬호','인천시 계양구','123@naver.com','01022533481');



-- 아이피 테이블

drop table memberip;
create table memberip(
num number,
mno number references member(mno) on delete cascade,
ip varchar2(20)
);

drop sequence memberip_seq;
create sequence memberip_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;

